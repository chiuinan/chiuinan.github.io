<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>資訊修改</title>
</head>
<body>
<CENTER><FONT COLOR=FF0000 size=5><b>資訊修改</b></FONT></CENTER>
<pre style="font-family: MingLiU, monospace; font-size: 16px;">
1.256色色盤資料：256.PAT

資料封裝格式，封裝資料即為色盤資料，每色3 byte，分別為RGB(0～63)

2.背景圖檔：封裝資料集壓縮格式

777.PIX = 777遊樂場接金幣背景圖
DIE??.PIX = 各人物失敗圖
DTT.PIX = 賭場背景圖
E0.PIX = 遊戲開場背景圖
GOD.PIX = 股市背景圖
MW?.PIX = 單人遊戲過關圖
PART.PIX = 地圖選擇背景圖
PRBCK?.PIX = 游戲中各地圖左邊背景圖(大小=20800)
R3B.PIX = 結局背景圖(大小=37120)
Y10.PIX = 結局背景圖
KATO.P = 開場圖

各組資料解壓後：

(1)資料大小=64000者為320x200原始圖像資料
(2)資料大小=37120者為320x116原始圖像資料
(3)資料大小=20800者為104x200原始圖像資料

3.前景圖檔：封裝資料集壓縮格式

BP?.PXX：人物介紹圖
CHINA.PXX：倒閉圖
DTT.PXX：賭場圖(多個)
EE.PXX：遊戲開場圖(多個)
MA.PXX：地圖場景如房屋、神明、人物等(多個)
END.PXX：製作群圖(多個)
GOPASS??.PXX：多人遊戲各人物過關圖(多個)
PHEAD.PXX：人物頭像(多個)
R3.PXX：結局圖(多個)
RUN?.PXX：接錢幣圖(多個)
SAY?.PXX：說話人物圖(多個)

各組資料解壓後格式如下：

圖像資料指標：2 byte，可有多個，實際位置=指標值*2，0表示結束
圖像資料：
  圖檔水平大小：2 byte
  圖檔垂直大小：2 byte
  圖像壓縮資料，請見圖像解壓法

4.圖集檔：圖集封裝格式

CARDPIC.PAK = 卡片圖集(大小=8400)
THPIC.PAK = 事件圖集(大小=17600)

解壓後：

(1)資料大小=8400者為120x70原始圖像資料
(2)資料大小=17600者為176x100原始圖像資料

5.地圖檔：PART?.PAK，封裝資料集壓縮格式

共有3組資料：
(1)地圖方塊圖像：每個24x20=480 byte
(2)各座標的地點編號：每個2 byte，共36x36x2=2592 byte
   地點編號超過32h=50為土地，否則為特殊地點，0表非地點
(3)地點相關文字訊息（含地段名稱、事件等）
   人名由第2行開始
   特殊地點名第16行開始
   路段名由第27行開始

6.存檔：SAVE_?.DSK，封裝資料集壓縮格式

SAVE_7.DSK = 台灣初始遊戲資訊
SAVE_8.DSK = 香港初始遊戲資訊
SAVE_9.DSK = 大富翁城初始遊戲資訊

共有8組資料：
(1)人物遊戲資訊：4 byte整數，6個人物為一組，依次為現金、存款等
(2)不明
(3)人物位置資訊：2 byte整數，6個人物為一組
   #00 = X座標
   #01 = Y座標
   #02 = 行進方向 (1=左、2=上、3=右、4=下)
(4)地點資訊：2 byte整數，11Bh=283個為一組（236h=566 byte），按地點編號存取
   #00位置0000h = 地點的X座標
   #01位置0236h = 地點的Y座標
   #02位置046Ch = 特殊地點編號（01～0A），0表土地或公園
   #03位置06A2h = 不明
   #04位置08D8h = 往左走的下個地點編號，0表無(用以判斷可行進方向)
   #05位置0B0Eh = 往上走的下個地點編號，0表無(用以判斷可行進方向)
   #06位置0D44h = 往右走的下個地點編號，0表無(用以判斷可行進方向)
   #07位置0F7Ah = 往下走的下個地點編號，0表無(用以判斷可行進方向)
   #08位置11B0h = 地段編號，指向地段名稱，0表非土地
   #09位置13E6h = 不明
   #0A位置161Ch = 不明
   #0B位置1852h = 不明
   #0C位置1A88h = 所屬人物編號，0表空地
   #0D位置1CBEh = 不明
   #0E位置1EF4h = 被預約的人物編號，0表無
   #0F位置212Ah = 房屋級數，0表無
   #10位置2360h = 不明
   #11位置2596h = 不明
   #12位置27CCh = 不明
   #13位置2A02h = 不明
(5)不明
(6)地圖組成：2 byte整數，共36x36個，指向地圖方塊圖像
(7)卡片表：共100個卡片編號（2 byte），需要卡片時即以亂數從中取得
(8)價格表：2 byte整數，每組2Dh=45個（5Ah=90 byte），按地段編號存取
   #00位置0000h = 土地價格
   #01位置005Ah = 每級房屋增值價格
   #02以下依次為空地、一層～五層房的過路費

7.文字訊息檔：封裝資料集壓縮格式

READMSG.PAK = 3組：遊戲說明的文字訊息、不明、台灣地圖前景圖
READWOR.PAK = 文字顯示字形的相關控制(共6組)

8.系統資料檔：DATA.PAK，封裝資料集壓縮格式

共有9組資料：
(1)不明
(2)不明
(3)不明
(4)卡片資訊：分2組，每組72 byte，第1組為卡片使用方式，第2組為卡片價格

<font color=blue>*** 資料封裝格式</font>

檔頭：1 byte，固定FDh
不明：4 byte
封裝資料大小：2 byte
封裝資料

<font color=blue>*** 封裝資料集格式</font>

同資料封裝格式，封裝資料的格式如下：

各組資料位置指標：2 byte，可有多個，實際位置=指標值*2，0或超出檔案大小為結束
各組資料

<font color=blue>*** 封裝資料集壓縮格式</font>

同封裝資料集格式，各組資料需採一般資料解壓法解壓

<font color=blue>*** 圖集封裝格式</font>

各組資料位置指標：4 byte，可有多個，0或超出檔案大小為結束
各組資料，須用一般資料解壓法解壓

<font color=blue>*** 一般資料解壓法</font>

no = 讀取2 byte整數，低位元組在前
處理下列解壓程序no次
{
  b = 讀取1 byte
  c = (b低7位元) + 1
  if b最高位元=1 then
    讀取c byte資料輸出
  else
    b = 讀取1 byte
    輸出b共c次
  end if
}

<font color=blue>*** 圖像解壓法</font>

xsize = 圖檔水平大小
ysize = 圖檔垂直大小
處理ysize個水平圖像
{
   s = xsize
   while s > 0
   {
     b = 讀取1 byte
     c = b低7位元
     if b最高位元=1 then 輸出c byte背景色
     else 讀取c byte輸出
     s -= c
   }
}

</pre>
</body>
</html>
