<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>資訊修改</title>
</head>
<body>
<CENTER><FONT COLOR=FF0000 size=5><b>資訊修改</b></FONT></CENTER>
<pre style="font-family: MingLiU, monospace; font-size: 16px;">
<b>修改</b>：FD2.EXE（不同版本的資訊位置可能不同，可利用開頭數值尋找）

1.物品功效資訊：792C1h或540ACh開始，每個物品17h=23 byte，按物品編號排列
  找0B 01 0A 00 5F 00，從01開始

-- TY AP AP HT HT DP DP EV EV S1 S2 R1 R2 K1 K2
K3 K4 K5 K6 MM MM ?? ?? -- -- -- -- -- -- -- --

TY = 物品類型，01=劍，02=刀，03=槍，04=斧，05=弓，06=杖，07=爪，08=機械手臂...20h=道具
AP = 攻擊力增值
HT = 命中率增值
DP = 防禦力增值
EV = 速度增值
S1 = 攻擊附加屬性，00=無，02=中毒，03=雙擊，04=暴擊
S2 = 中毒／暴擊機率
R1/R2 = 攻擊距離最小／最大值
K1～K6 = 物品附加能力
  K1 = 使用物品後的作用
         00=無作用        05=恢復生命道具  06=解除中毒      07=解除麻痺
         08=永久增加力量  09=永久增加耐力  0A=永久增加速度  0B=恢復魔法
         0C=風行術        0D=恢復生命法術  0E=麻痹術        0F=魔鎧術
         10=魔刃術        11=永久增加生命  12=永久增加法力  13=永久增加移動力
         14=攻擊法術      15=攻擊法術      16=封咒術        17=傳送術
         18=攻擊法術
  K2/K3 = 數量／攻擊法術等效的法術編號
  K4 = 施放距離，10h=1表直線，否則表全部，最低4位元為實際距離
  K5 = 作用對象，00=敵方，01=己方（修改無效）
  K6 = 影響範圍（最大3）
MM = 價格

註：武器之物品編號必須7Fh（含）以前。

2.商店出售物品資訊：7B3A4h或56190h開始，每個有商店的章節佔28 byte
  開頭為80 81 84 A5 FF

武器店：12 byte，FF=無
道具店：8 byte，FF=無
神秘商店：8 byte，FF=無

3.法術功效資訊：7AA11h或557FDh開始，每個法術7 byte，按法術編號排列
  開頭為32 00 5A 05

DA DA HT DS RN MP WH

DA = 最大傷害力／恢復力
HT = 命中率
DS = 攻擊距離，10h=1表直線，否則表全部，最低4位元為實際距離
RN = 攻擊範圍（最大3）
MP = 消耗法力
WH = 作用對象，00=敵方，01=己方（修改無效）

法術編號：

00 火炎術  01 烈炎術  02 炎龍術  03 天火術  04 電擊術  05 落雷術  06 轟雷術  07 神雷術
08 聖光彈  09 咒殺術  0A 碎岩術  0B 地震術  0C 裂地術  0D 治療術  0E 回復術  0F 再生術
10 神恩術  11 魔刃術  12 魔鎧術  13 風行術  14 解毒術  15 祛麻術  16 封咒術  17 傳送術
18 破龍擊  19 行動術  1A 毒擊術  1B 麻痹術  1C 淒煌斬  1D 熾炎刀  1E 音速刃
20 熾天使  21 風妖精  22 破壞神  23 暗邪鬼

4.人物出場屬性資訊：7ADB5h或55BA1h開始，每個人物24 byte
  開頭為01 01 01 2A

-- -- -- -- -- RA CL LV HP HP MP MP MV MG MG MG
MG IT IT IT IT IT IT AP AP DP DP DX DX -- -- --

RA = 種族編號
CL = 職業編號
LV = 出場時等級
HP = 人物基礎生命，實際出場HP=人物基礎生命+(LV-1)*HP最小成長值
MP = 人物基礎法力，實際出場MP=人物基礎法力+(LV-1)*MP最小成長值
MV = 移動力
MG = 已會的法術
IT = 初始裝備（FF表沒有）
AP = 人物基礎攻擊力，實際出場AP=人物基礎攻擊力+LV*AP最小成長值
DP = 人物基礎防禦力，實際出場DP=人物基礎防禦力+LV*DP最小成長值
DX = 人物基礎速度值，實際出場DX=人物基礎速度值+LV*DX最小成長值

5.升級屬性資料：7B0B5h或55EA1h開始，每位人物11 byte
  開頭為06 08 04 06

AP0 AP1 DP0 DP1 DX0 DX1 HP0 HP1 MP0 MP1 MG

AP0/AP1 = 最小力量／最大力量+1
DP0/DP1 = 最小耐力／最大耐力+1
DX0/DX1 = 最小速度／最大速度+1
HP0/HP1 = 最小生命／最大生命+1
MP0/MP1 = 最小法力／最大法力+1
MP = 法術習得等級資料索引值（FFh表沒有）

位址  人物                AP    DP    DX    HP    MP    MG
-------------------------------------------------------------
7B0B5 索爾                06 08 04 06 02 03 08 0C 00 00 FF
7B0C0 哈諾                07 0A 04 06 01 03 0A 0F 00 00 FF
7B0CB 鐵諾                06 09 04 06 02 03 07 0C 00 00 FF
7B0D6 哈瓦特              06 08 05 07 01 01 0C 10 00 00 FF
7B0E1 亞雷斯              06 09 04 05 02 02 08 0B 00 00 FF
7B0EC 洛娜                06 08 05 07 02 03 06 08 00 00 FF
7B0F7 萊汀                07 0A 05 08 02 03 0A 0D 00 00 FF
7B102 蘭斯洛特            0D 11 09 0C 03 05 0D 12 00 00 FF
7B10D 希莉亞              05 08 02 04 02 03 06 09 00 00 FF
7B118 悠妮                03 06 02 05 01 03 05 09 04 08 00
7B123 瑪琳                03 05 02 06 01 02 04 08 04 07 01
7B12E 索菲亞              02 04 03 07 01 02 06 09 03 06 02
7B139 凱麗                08 0A 05 06 01 04 0B 0E 00 00 FF
7B144 貝克威              05 07 03 04 02 03 06 09 00 00 FF
7B14F 珊                  03 05 02 03 01 03 06 08 04 08 03
7B15A 賽可邦勒            08 0C 04 06 01 03 0A 0C 00 00 FF
7B165 凱拉斯              0A 0F 08 0D 02 04 0D 11 00 00 FF
7B170 米亞斯多德          07 0B 05 08 02 03 09 0D 00 00 FF
7B17B 蜜蒂                09 0F 07 0B 02 04 0C 10 06 08 05
7B186 羅德曼              0A 0F 07 0A 02 03 0C 10 06 08 FF
7B191 莎拉                09 0F 05 07 02 03 0B 11 00 00 FF
7B19C 約拿                08 0C 07 0B 02 03 0A 0C 0C 0F FF
7B1A7 卡里斯              0B 0E 06 08 02 04 10 14 00 00 FF
7B1B2 羅蘭                09 0E 04 07 02 05 08 0C 00 00 FF
7B1BD 希爾法              06 08 04 07 02 05 09 0B 12 18 FF
7B1C8 謝多                0A 0D 06 09 03 06 0C 0F 04 07 FF
7B1D3 聖寇拉斯            0C 11 0A 0C 02 04 12 19 00 00 FF
7B1DE 巴拿羅西亞          0A 0F 09 0D 02 04 0E 12 00 00 FF
7B1E9 達可賽              0C 0F 08 0C 02 03 0F 16 04 06 11
7B1F4 亞奇梅吉            08 0E 08 0C 03 06 0E 16 0C 10 08
7B1FF 蓋亞                07 0E 06 0D 02 04 08 0F 00 00 FF
7B20A 渥德                08 0E 07 0E 02 04 0C 0F 00 00 FF
7B215 索爾        劍聖    08 0C 05 08 03 05 0A 0D 07 09 04
7B220 哈諾        聖戰士  0D 11 09 0B 02 04 0F 14 00 00 FF
7B22B 鐵諾        劍聖    08 0A 06 09 02 04 0A 0F 05 07 06
7B236 哈瓦特      聖戰士  0D 12 0B 0F 02 04 10 16 00 00 FF
7B241 亞雷斯      聖騎士  09 0D 07 09 02 04 0C 10 00 00 FF
7B24C 洛娜        聖騎士  09 0D 08 0A 02 04 0B 0F 00 00 FF
7B257 萊汀        聖騎士  0A 0E 08 0A 02 04 0C 10 00 00 FF
7B262 ------------------  08 0C 03 06 02 04 0A 0F 00 00 FF
7B26D 希莉亞      狙擊手  09 0B 07 0A 02 04 09 0D 00 00 FF
7B278 悠妮        大法師  08 0C 04 07 02 05 09 0D 0F 14 07
7B283 瑪琳        祭師    08 0C 05 09 03 05 0B 0D 0C 10 09
7B28E 索菲亞      祭師    07 0B 06 0B 03 05 0C 0E 0A 0E 12
7B299 凱麗        鬥士    0A 0E 06 09 03 05 0D 12 00 00 FF
7B2A4 貝克威      狙擊手  08 0C 04 07 02 04 08 0C 00 00 FF
7B2AF 珊          大法師  08 0E 06 09 03 04 08 0B 12 16 08
7B2BA 賽可邦勒    鬥士    09 0D 07 0A 02 04 0E 12 00 00 FF
7B2C5 ------------------  0A 0C 06 08 02 03 0F 14 00 00 FF
7B2D0 米亞斯多德  龍劍士  0B 0E 08 0B 02 04 0C 12 00 00 FF
7B2DB 索爾        英雄    0A 0F 07 0A 02 04 0C 0F 08 0C 0A
7B2E6 哈諾        魔戰士  0D 10 0A 0C 02 03 0F 14 08 0C 0F
7B2F1 悠妮        召喚師  09 0C 06 09 03 05 0C 12 14 1E 13
7B2FC 哈瓦特      魔戰士  0D 10 0B 0F 02 03 10 16 08 0C 10
7B307 亞雷斯      龍騎士  09 0D 07 09 02 04 0C 10 00 00 FF
7B312 洛娜        龍騎士  09 0E 08 0A 02 04 0B 0F 00 00 FF
7B31D 萊汀        龍騎士  0A 0E 07 09 02 04 0B 0F 00 00 FF
7B328 ------------------  08 0C 03 05 02 04 0A 0C 00 00 FF
7B333 希莉亞      神射手  0C 0E 07 0A 02 04 0A 0F 00 00 FF
7B33E 悠妮        聖者    08 0C 05 08 02 05 0C 0F 0B 10 0E
7B349 瑪琳        聖者    09 0D 05 08 03 05 0B 0D 0E 12 0B
7B354 索菲亞      聖者    08 0D 05 0A 03 05 0D 10 0A 0E 0C
7B35F 凱麗        武聖    0C 0F 07 09 03 06 0E 12 00 00 FF
7B36A 貝克威      神射手  09 0D 04 07 02 04 09 0D 00 00 FF
7B375 珊          聖者    08 0A 07 09 03 05 08 0B 0E 12 0D
7B380 賽可邦勒    武聖    0A 0F 07 09 02 05 0E 12 00 00 FF

6.法術習得等級資料：7B6C7h或564B3h開始，每個12 byte
  開頭為05 11 09 01

LV MG LV MG LV MG LV MG LV MG LV MG

LV = 法術習得等級（FFh表沒有）
MG = 法術編號（FFh表沒有）

順序無所謂，但不可比出場人物等級低。

    位址  人物            LV MG LV MG LV MG LV MG LV MG LV MG
----------------------------------------------------------------
00  7B6C7 悠妮            05 11 09 01 0F 1A 15 02 1A 1B FF FF
01  7B6D3 瑪琳            07 14 0B 0E 10 12 18 16 1E 17 FF FF
02  7B6DF 索菲亞          12 13 18 15 1E 19 FF FF FF FF FF FF
03  7B6EB 珊              14 0A 18 06 FF FF FF FF FF FF FF FF
04  7B6F7 索爾    劍聖    04 18 FF FF FF FF FF FF FF FF FF FF
05  7B703 蜜蒂            02 1E FF FF FF FF FF FF FF FF FF FF
06  7B70F 鐵諾    劍聖    04 1D FF FF FF FF FF FF FF FF FF FF
07  7B71B 悠妮    大法師  03 1B 07 03 0D 13 16 0B FF FF FF FF
08  7B727 珊      大法師  04 02 08 07 0C 0B FF FF FF FF FF FF (亞奇梅吉使用同一編號)
09  7B733 瑪琳    祭師    03 0F 09 15 12 13 17 10 FF FF FF FF
0A  7B73F 索爾    英雄    04 0F 08 03 0E 07 14 08 18 0C 1E 17
0B  7B74B 瑪琳    聖者    03 0F 09 08 10 13 15 15 1A 10 FF FF
0C  7B757 索菲亞  聖者    03 0F 08 08 0F 1B 14 15 19 10 FF FF
0D  7B763 珊      聖者    04 0F 0A 08 0F 16 14 14 18 07 FF FF
0E  7B76F 悠妮    聖者    03 0F 09 08 10 15 15 12 19 03 FF FF
0F  7B77B 哈諾    魔戰士  04 12 0B 0F 12 14 FF FF FF FF FF FF
10  7B787 哈瓦特  魔戰士  03 13 09 0F 10 14 FF FF FF FF FF FF
11  7B793 達可賽          0F 0B 14 12 17 0B FF FF FF FF FF FF
12  7B79F 索菲亞  祭師    04 0F 0A 16 12 10 18 12 FF FF FF FF
13  7B7AB 悠妮    召喚師  02 22 06 23 0B 17 0F 03 13 21 17 20

7.職業相關資料：由編號01開始，編號00的龍沒有此資訊

(1)魔法抗性資料：76FAAh或51D96h開始，每職業4 byte，找09 0A 00 00 00，由0A開始

   魔法抗性 = (10-數值)/10，例如7表示30%魔法抗性

(2)暴擊率資料：773AFh或5219Bh開始，每職業1 byte，開頭為05 03 03 05

職業      魔法抗性  暴擊率
----------------------------
01  劍士     --       5%
02  戰士     --       3%
03  騎士     --       3%
04  弓兵     --       5%
05  法師     30%      3%
06  僧侶     30%      3%
07  盜賊     --       0%
08  武者     --      18%
09  劍聖     --       5%
0A  聖戰士   --       3%
0B  聖騎士   10%      3%
0C  狙擊手   --      12%
0D  大法師   50%      3%
0E  祭師     50%      3%
0F  龍劍士   20%     12%
10  鬥士     --      10%
11  英雄     40%      6%
12  魔戰士   20%      3%
13  龍騎士   --       3%
14  神射手   10%      7%
15  召喚師   50%      3%
16  聖者     50%      3%
17  忍者     --      30%
18  武聖     20%     18%
19  機兵     20%      0%
1A  ？？？   60%      0%

8.敵人／友軍等級資訊：7AB0Dh或558F9h開始，每位10 byte
  開頭為01 02 12 00 00 05

RA CL HP HP MP AP DP DX MV EX

RA = 種族
CL = 職業
HP = 每級生命力
MP = 每級法力
AP = 每級攻擊力
DP = 每級防禦力
DX = 每級速度
MV = 移動力
EX = 每級經驗值

友軍：
                  RA CL  HP  MP AP DP DX MV  EX
-------------------------------------------------
7AB0D 士兵        01 02  18   0  5  2  1  4  30
7AB17 王國正規軍  01 03  20   0  8  2  1  7  30
7AB21 傭兵        01 02  16   0  5  2  1  4  30
7AB2B 豹人        03 08  20   0 10  6  2  5  30
7AB35 精靈        02 0C  46   0 12  7  4  5  30
7AB3F 龍劍士      04 0F  24   0 16 11  5  7  30

敵人：
                  RA CL  HP  MP AP DP DX MV  EX
-------------------------------------------------
7AB5D 士兵        01 02  14   0  5  4  1  4  30
7AB67 精英戰士    01 02  18   0  8  4  2  4  45
7AB71 鎧甲武士    01 02  23   0 10  5  2  3  70
7AB7B 傭兵        01 02  30   0 16  7  4  4 120
7AB85 黑暗戰士    01 02  54   0 24  9  5  4 120
7AB8F 狂戰士      01 02  60   0 25 15  6  4 120
7AB99 騎兵        01 03  15   0  8  1  1  7  40
7ABA3 突擊騎兵    01 03  20   0  8  2  2  8  75
7ABAD 地獄騎士    01 0B  44   4 26 12  4  8 180
7ABB7 黑暗騎士    01 03  48   0 22  6  5  8 160
7ABC1 龍騎士      01 13  31   0 16  7  3  9  80
7ABCB 弓箭手      01 04  12   0  4  2  2  4  40
7ABD5 黑暗射手    01 04  36   0 17  8  6  4 128
7ABDF 狙擊手      01 0C  30   0 20 10  6  5 130
7ABE9 魔法師      01 05  10   5  2  1  2  3  50
7ABF3 黑暗法師    01 05  39  20 12  5  4  3 130
7ABFD 巫師        01 0D  29  24 14  6  4  4 200
7AC07 僧侶        01 06  12   4  5  2  1  3  50
7AC11 黑暗僧侶    01 06  41  17 17  7  5  3 120
7AC1B 大祭師      01 0E  33  20 18  8  4  4 160
7AC25 盜賊        01 07  14   0  7  1  1  4  21
7AC2F 盜賊頭目    01 07  24   0  8  3  2  4  33
7AC39 影之忍者    01 07  70   0 34 26 12  5 200
7AC43 黑暗殺手    01 01  36   0 20 12  4  6 110
7AC4D 武術家      01 08  45   0 22 12  5  5 150
7AC57 黑暗鬥士    01 10  46   0 24 12  6  5 160
7AC61 獸人        08 02  16   0  8  2  1  5  40
7AC6B 受人隊長    08 02  22   0 10  3  2  5  60
7AC75 火龍        0A 1A  80  80 20 10  4  0 250
7AC7F 雷龍        0A 1A  80  80 20 10  4  0 250
7AC89 龍人戰士    04 02  25   0 13  8  3  6 100
7AC93 龍人法師    04 05  20  30 11  6  3  6 120
7AC9D 魔鬼        05 1A  38   4 28 16  6  5 170
7ACA7 惡魔        05 1A  40   5 30 18  6  6 180
7ACB1 大惡魔      05 1A  40   6 31 20  6  6 200
7ACBB 機甲兵      06 19  40   0 20 16  3  4  80
7ACC5 機甲射手    06 19  45   0 22 12  4  7 120
7ACCF 光束炮座    06 19 100   0  0 20  0  0 180
7ACD9 機甲突擊兵  06 19  36   0 18 14  5  4 150
7ACE3 機甲守衛    06 19  34   0 15 16  3  4 150
7ACED 機甲隊長    06 19 100   0 20 13  3  5 140
7ACF7 卡特那      01 07  30   0  5  3  2  4  99
7AD01 萊汀        01 03  12   0  8  3  1  6  80
7AD0B 薩卡        01 0A 120   0 20 12  5  4 120
7AD15 瑪爾        01 0A  90   0 20 10  4  5 255
7AD1F 沼澤怪物    09 1C  42   0 31 28  5  4 100
7AD29 地魔神      07 1A 150  14 22 10  3  2 250
7AD33 水魔神      07 1A 160  20 20 16  4  3 250
7AD3D 風魔神      07 1A 145  28 23 10  4  5 250
7AD47 火魔神      07 1A 140  25 24  9  4  4 250
7AD51 空魔神      09 1A 300 200 15  8  3  5 255
7AD5B 暗黑龍      0A 1A 120  80 20 10  4  0 250
7AD97 男村民      01 1B  12   0  1  3  1  4   1
7ADA1 女村民      01 1B  14   0  1  2  1  4   1

<b>修改</b>：FDFIELD.DAT地圖資料

1.檔頭=連續6個4Ch
2.各地圖資料位置：每地圖3個4 byte整數，共12 byte
  (1)地圖構成資料位置
  (2)地圖控制與寶箱資料位置
  (3)人物出場位置資料位置

地圖構成資料：

1.地圖寬度：2 byte整數
2.地圖高度：2 byte整數
3.地圖資料：先水平後垂直，每單位2個2 byte整數
  (1)地形編號（由FDSHAP.DAT的地形控制資料可得知是否有寶箱）
  (2)觸發的事件編號（#1以上）或寶箱編號（#0以上）

地圖控制與寶箱資料：

1.地圖編號：1 byte
2.己方最多可出場人數：1 byte
3.敵友出場人物總數：1 byte
4.回合事件資訊：每組3 byte，共16組，FF FF 00表沒有
  (1)所在回合：1 byte
  (2)事件編號：2 byte
5.保留：每組2 byte，共16組，一律FF 00
6.寶箱資料：每組3 byte，共16組（必須地圖構成資料裡有觸發才有用）
  (1)型態：1 byte，00表物品，01表金錢
  (2)內容：2 byte，物品編號／金錢數目
7.出場人物資訊：每位26 byte，數量=敵友出場人物總數
  (1)陣營：1 byte，00=敵方，01=友方，02=己方
  (2)肖像編號：1 byte
  (3)種族編號：1 byte
  (4)職業編號：1 byte
  (5)等級：1 byte
  (6)物品編號：每個1 byte，共8個，最前兩個固定為裝備的武器和防具，FF表沒有
  (7)法術編號：每個1 byte，共8個
  (8)出場所在回合：1 byte
  (9)死亡時掉落物品：4 byte
     a.型態：1 byte，00表物品，01表金錢
     b.內容：3 byte，物品編號／金錢數目

人物出場位置資料：

1.人物總數：2 byte整數（己方最多可出場人數+敵友出場人物總數）
2.出場位置資訊：每組3個2 byte整數
  (1)X座標
  (2)Y座標
  (3)肖像編號：00表己方人物

<b>修改</b>：FDSHAP.DAT

地形控制資料：2422Eh開始，每個地形4 byte，按地形編號排列
  寶箱資訊：1 byte
    20h = 1表寶箱
    40h = 1表隱藏物品
  移動資訊：1 byte
    0 = 正常狀態（AP+05,DP+00）
    1 = 不可移動（AP+00,DP+00）
    2 = 騎士移動力減低（AP-05,DP+10）
    3 = 所有人物移動力減低（AP-05,DP+10）
    4 = 所有人物移動力減低（AP-05,DP-05）
    5 = 不可移動（AP+00,DP+00）
  戰鬥背景編號：2 byte
</pre>
</body>
</html>
